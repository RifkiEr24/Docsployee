(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{253:function(t,a,e){"use strict";e.r(a);var n={data:function(){return{file:null,user:"",documents:[]}},methods:{download:function(t,a){axios({url:"http://127.0.0.1:8000/storage/images/".concat(t,"/").concat(a),method:"GET",responseType:"blob"}).then((function(t){var e=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=e,n.setAttribute("download",a),document.body.appendChild(n),n.click()}))},deletefile:function(t){var a=this;this.$swal.fire({title:"Apakah kamu yakin?",text:"Jika kamu hapus, maka data tidak akan kembali lagi.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus",cancelButtonText:"Kembali"}).then((function(e){if(e.value){a.$swal.fire({title:"Success!",text:"Gambar Berhasil Dihapus",icon:"success",timer:1e3});var n="/api/document/delete/".concat(t);a.axios.delete(n).then((function(e){console.log(e),a.documents.splice(a.documents.indexOf(t),1)}))}}))}},mounted:function(){var t=this;"admineditcategory"==this.$route.name?axios.get("/api/category/detailname/".concat(this.$route.params.id),{params:{categoryid:this.$route.params.categoryname}}).then((function(a){t.documents=a.data})):axios.get("/api/user").then((function(a){t.user=a.data})).then((function(){axios.get("/api/category/detail/".concat(t.$route.params.id),{params:{iduser:t.user.id_akun}}).then((function(a){t.documents=a.data}))}))}},i=e(2),s=Object(i.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.documents.length>0?e("div",{staticClass:"row mt-5"},t._l(t.documents,(function(a){return e("div",{key:a.id_document,staticClass:"col-md-4"},[e("div",{staticClass:"card border-rounded",staticStyle:{width:"18rem"}},[null!=t.user.name?e("img",{staticClass:"card-img-top",attrs:{src:"/userdata/"+t.user.id_akun+"/"+a.file_name,alt:"Card image cap"}}):e("img",{staticClass:"card-img-top",attrs:{src:"/userdata/"+a.id_akun+"/"+a.file_name,alt:"Card image cap"}}),t._v(" "),e("div",{staticClass:"card-body border-top"},[e("h5",{staticClass:"card-title"},[t._v(t._s(a.file_name))]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-6"},[null!=t.user.name?e("a",{staticClass:"btn btn-success mx-auto d-block",on:{click:function(e){return e.preventDefault(),t.download(t.user.id_akun,a.file_name)}}},[t._v("Download")]):e("a",{staticClass:"btn btn-success mx-auto d-block",on:{click:function(e){return e.preventDefault(),t.download(a.id_akun,a.file_name)}}},[t._v("Download")])]),t._v(" "),e("div",{staticClass:"col-12 col-md-6"},[e("a",{staticClass:"btn mt-2 mt-md-0 btn-danger mx-auto d-block",on:{click:function(e){return e.preventDefault(),t.deletefile(a.id_document)}}},[t._v("Delete")])])])])])])})),0):e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-md-4"}),t._v(" "),e("div",{staticClass:"col-md-4"},[e("img",{staticClass:"w-100 d-block ml-auto mr-auto",attrs:{src:"/images/not found.png",alt:""}}),t._v(" "),e("h4",{staticClass:"text-center mt-3"},[t._v("Tidak Ada dokumen di folder ini")])]),t._v(" "),e("div",{staticClass:"col-md-4"})])])}),[],!1,null,null,null);a.default=s.exports}}]);